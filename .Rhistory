#comments
install.packages("tidyverse")
library(tidyverse)
#In terminal, copy data
cp ~/Documents/MICB425_materials/Saanich... ~/Documents/MICB425_portfolio
#In terminal, copy data
cp ~/Documents/MICB425_materials/Saanich... ~/Documents/MICB425_portfolio
#Load data
read.table(file="Saanich.metadate.txt")
read.table(file="Saanich.metadata.txt")
#Load data
read.table(file="Saanich.metadate.txt", header=TRUE, row.names=1, sep="\t", na.strings="NAN")
#Load data
read.table(file="Saanich.metadata.txt", header=TRUE, row.names=1, sep="\t", na.strings="NAN")
#DAY 2
library(tidyverse)
#Load data
read.table(file="Saanich.metadata.txt")
read.table(file="Saanich.metadata.txt", header=TRUE, row.names=1, sep="\t", na.strings="NAN")
metadata = read.table(file="Saanich.metadata.txt", header=TRUE, row.names=1, sep="\t")
metadata = read.table(file="Saanich.metadata.txt", header=TRUE, row.names=1, sep="\t")
metadata %>%
select(O2_uM)
metadata %>%
select(matches("O2|oxygen"))
metadata %>%
filter(O2_uM == 0)
metadata %>%
filter(O2_uM == 0) %>%
select(Depth_m)
metadata %>%
filter(CH4_nM> 100 nM) %>%
select(Temperature_C > 10)
metadata %>%
filter(CH4_nM > 100 nM) %>%
select(Temperature_C > 10)
metadata %>%
filter(CH4_nM > 100 nM) %>%
select(Temperature_C > 10 C)
View(metadata)
metadata %>%
filter(CH4_nM > 100) %>%
select(Temperature_C)
metadata %>%
select(matches("CH4|methane|nM"))
metadata %>%
select(matches("CH4|methane"))
metadata %>%
select(matches("temperature"))
metadata %>%
filter (CH4_nM > 100 & Temperature_C < 10)
metadata %>%
filter (CH4_nM > 100 & Temperature_C < 10) %>%
Select (Depth_m, CH4_nM, Temperature_C)
metadata %>%
filter (CH4_nM > 100 & Temperature_C < 10) %>%
Select (Depth_m , CH4_nM , Temperature_C)
metadata %>%
filter (CH4_nM > 100 & Temperature_C < 10) %>%
Select (Depth_m, CH4_nM, Temperature_C)
metadata %>%
filter (CH4_nM > 100 & Temperature_C < 10) %>%
Select(Depth_m, CH4_nM, Temperature_C)
metadata %>%
filter (CH4_nM > 100 & Temperature_C < 10) %>%
select (Depth_m, Temperature_C, Temperature_C)
metadata %>%
filter (CH4_nM > 100 & Temperature_C < 10) %>%
select (Depth_m, CH4_nM, Temperature_C)
metadata %>%
mutate(N2O_uM = N2O_nM/1000)
metadata %>%
mutate(New = N2O_nM/1000)
metadata %>%
mutate(N20-uM = N2O_nM/1000) %>%
metadata %>%
mutate(N20-uM= N2O_nM/1000) %>%
metadata %>%
mutate(N20_uM = N2O_nM/1000) %>%
metadata %>%
mutate(N20_uM = N2O_nM/1000)
metadata %>%
mutate(N20_uM = N2O_nM/1000) %>%
library(tidyverse)
metadata %>%
mutate(N20_uM = N2O_nM/1000) %>%
metadata %>%
mutate(N20_uM = N2O_nM/1000) %>%
biocLite("phyloseq")
source("https://bioconductor.org/biocLite.R")
biocLite("phyloseq")
library(phyloseq)
library(phyloseq)
metadata %>%
mutate(N20_uM = N2O_nM/1000) %>%
read.table(file=saanich.metadata.txt)
metadata %>%
mutate(N20_uM = N2O_nM/1000) %>%
read.table(file="Saanich.metadata.txt")
metadata %>%
mutate(N20_uM = N2O_nM/1000) %>%
=read.table(file="Saanich.metadata.txt")
metadata %>%
mutate(N20_uM = N2O_nM/1000) %>%
= read.table(file="Saanich.metadata.txt")
= read.table(file="Saanich.metadata.txt")
read.table(file="Saanich.metadata.txt")
load("phyloseq_object.RData")
library(phyloseq)
metadata %>%
mutate(N20_uM = N2O_nM/1000) %>%
library(phyloseq)
library(phyloseq)
load("phyloseq_object.RData")
biocLite("phyloseq")
library(phyloseq)
load("phyloseq_object.RData")
load ("phyloseq_object.RData")
install.packages("/var/folders/q4/xxpy73fx5d155k3f4f9_v9hm0000gn/T//Rtmp4eKiM7/downloaded_packages")
library(phyloseq)
load ("phyloseq_object.RData")
load("~/Documents/MICB425_portfolio/.RData")
load("~/Documents/MICB425_portfolio/.RData")
load("~/Documents/MICB425_portfolio/.RData")
ggplot(metadata, aes(x=O2_uM, y=Depth_m))
ggplot(metadata, aes(x=O2_uM, y=Depth_m)) +
geom_point()
ggplot(metadata, aes(x=O2_uM, y=Depth_m, color="blue")) +
geom_point()
ggplot(metadata, aes(x=O2_uM, y=Depth_m)) +
geom_point(color="blue")
ggplot(metadata, aes(x=PO4_uM, y=Depth_m)) +
+     geom_point(color="purple", shape="triangle")
ggplot(metadata, aes(x=PO4_uM, y=Depth_m))
ggplot(metadata, aes(x=PO4_uM, y=Depth_m)) +
genom_point()
ggplot(metadata, aes(x=PO4_uM, y=Depth_m)) +
+ geom_point()
load("~/Documents/MICB425_portfolio/.RData")
load("~/Documents/MICB425_portfolio/.RData")
ggplot(metadata, aes(x=O2_uM, y=Depth_m)) +
geom_point()
ggplot(metadata, aes(x=PO4_uM, y=Depth_m)) +
geom_point()
ggplot(metadata, aes(x=O2_uM, y=Depth_m)) +
geom_point(color="purple")
ggplot(metadata, aes(x=PO4_uM, y=Depth_m)) +
geom_point(color="purple")
ggplot(metadata, aes(x=PO4_uM, y=Depth_m)) +
geom_point(shape="triangle")
ggplot(metadata, aes(x=PO4_uM, y=Depth_m)) +
+     geom_point(color="purple", shape="17")
ggplot(metadata, aes(x=PO4_uM, y=Depth_m)) +
+     +     geom_point(color="purple", shape="triangle")
ggplot(metadata, aes(x=PO4_uM, y=Depth_m)) +
geom_point(color="purple") + geom_point(shape="triangle")
ggplot(metadata, aes(x=PO4_uM, y=Depth_m)) +
geom_point(color="purple") + geom_point(shape=17)
metadata %>%
mutate(Temperature_F= Temperature_C*9/5+32)
ggplot(metadata, aes(x=Temperature_F, y=Depth_m))
metadata %>%
mutate(Temperature_F= Temperature_C*9/5+32)
ggplot(metadata, aes(x=Temperature_F, y=Depth_m)) +
geom-point()
ggplot(metadata, aes(x=Temperature_F, y=Depth_m)) +
geom_point()
ggplot(metadata, aes(x=Temperature_C, y=Depth_m)) +
geom_point()
ggplot(metadata, aes(x=Temperature_F, y=Depth_m)) +
geom_point()
ggplot(metadata, aes(x=Temperature_F, y=Depth_m)) +
geom_point()
ggplot(metadata, aes(x=Temperature_F, y=Depth_m)) +
geom_point()
metadata %>%
mutate(Temperature_F= Temperature_C*9/5+32)
ggplot(metadata, aes(x=Temperature_F, y=Depth_m)) +
geom_point()
metadata %>%
mutate(Temperature_F= Temperature_C*9/5+32) %>%
ggplot() + geom_point(aes(x=Temperature_F, y=Depth_m))
physeq
plot_bar(physeq, fill="Phylum")
load("phyloseq_object.RData")
library(phyloseq)
load("phyloseq_object.RData")
physeq
plot_bar(physeq, fill="Phylum")
physeq_percent = transform_sample_counts(physeq, function(x) 100 * x/sum(x))
plot_bar(physeq_percent, fill="Phylum")
plot_bar(physeq_percent, fill="Phylum") +
geom_bar(aes(fill=Phylum), stat="identity")
plot_bar(physeq_percent, fill="Phylum") +
geom_bar(aes(fill=Phylum), stat="identity") + t+labs(x="Sample depth", y="percent relative abundance")
plot_bar(physeq_percent, fill="Phylum") +
geom_bar(aes(fill=Phylum), stat="identity") + t+ labs(x="Sample depth", y="percent relative abundance")
plot_bar(physeq_percent, fill="Phylum") +
geom_bar(aes(fill=Phylum), stat="identity") + labs(x="Sample depth", y="percent relative abundance")
plot_bar(physeq_percent, fill="Phylum") +
geom_bar(aes(fill=Phylum), stat="identity") + labs(x="Sample depth", y="percent relative abundance") + title(Phyla from 10 to 200 m in Saanich Inlet)
plot_bar(physeq_percent, fill="Phylum") +
geom_bar(aes(fill=Phylum), stat="identity") + labs(x="Sample depth", y="percent relative abundance") + title("Phyla from 10 to 200 m in Saanich Inlet")
plot_bar(physeq_percent, fill="Phylum") +
geom_bar(aes(fill=Phylum), stat="identity") + labs(x="Sample depth", y="percent relative abundance") + title="Phyla from 10 to 200 m in Saanich Inlet"
plot_bar(physeq_percent, fill="Phylum") +
geom_bar(aes(fill=Phylum), stat="identity") + labs(x="Sample depth", y="percent relative abundance") + title="Phyla from 10 to 200 m in Saanich Inlet"
plot_bar(physeq_percent, fill="Phylum") +
geom_bar(aes(fill=Phylum), stat="identity", title="Phyla from 10 to 200 m in Saanich Inlet") + labs(x="Sample depth", y="percent relative abundance")
plot_bar(physeq_percent, fill="Phylum",  title="Phyla from 10 to 200 m in Saanich Inlet") +
geom_bar(aes(fill=Phylum), stat="identity") + labs(x="Sample depth", y="percent relative abundance")
plot_bar(physeq_percent, fill="Phylum") +
geom_bar(aes(fill=Phylum), stat="identity") +
facet_wrap(~Phylum)
plot_bar(physeq_percent, fill="Phylum") +
geom_bar(aes(fill=Phylum), stat="identity") +
facet_wrap(~Phylum, scales="free_y") +
theme(legend.position="none")
#Exercise 4
#Calculat uM variables
metadata %>%
mutate(N2O_uM = N2O_nM/1000,
Std_N2O_uM = Std_N2O_nM/1000,
CH4_uM = CH4_nM/1000,
Std_CH4_uM = Std_CH4_nM/1000) %>%
select(N2O_nM, N2O_uM,
Std_N2O_nM, Std_N2O_uM,
CH4_nM, CH4_uM,
Std_CH4_nM ,Std_CH4_uM)
table=metadata %>%
select(Depth_m, O2_uM, PO4_uM, SiO2_uM, NO3_uM, NH4_uM, NO2_uM)
library(tidyverse)
library.dynam(phyloseq)
library(phyloseq)
table=metadata %>%
select(Depth_m, O2_uM, PO4_uM, SiO2_uM, NO3_uM, NH4_uM, NO2_uM)
table=metadata
table=metadata %>%
#Exercise 4
#Calculat uM variables
metadata %>%
mutate(N2O_uM = N2O_nM/1000,
Std_N2O_uM = Std_N2O_nM/1000,
CH4_uM = CH4_nM/1000,
Std_CH4_uM = Std_CH4_nM/1000,
NO3_uM= N03_nM/1000,
SiO2_uM=SiO2_nM/1000,
PO4_uM=PO4_nM/1000) %>%
select(N2O_nM, N2O_uM,
Std_N2O_nM, Std_N2O_uM,
CH4_nM, CH4_uM,
Std_CH4_nM ,Std_CH4_uM, NO3_uM, SiO2_uM, PO4_uM)
#Exercise 4
#Calculat uM variables
metadata %>%
mutate(N2O_uM = N2O_nM/1000,
Std_N2O_uM = Std_N2O_nM/1000,
CH4_uM = CH4_nM/1000,
Std_CH4_uM = Std_CH4_nM/1000,
NO3_uM= N03_nM/1000,
SiO2_uM=SiO2_nM/1000,
PO4_uM=PO4_nM/1000) %>%
select(N2O_nM, N2O_uM,
Std_N2O_nM, Std_N2O_uM,
CH4_nM, CH4_uM,
Std_CH4_nM, Std_CH4_uM, NO3_uM, SiO2_uM, PO4_uM)
#Exercise 4
#Calculat uM variables
metadata %>%
mutate(N2O_uM = N2O_nM/1000,
Std_N2O_uM = Std_N2O_nM/1000,
CH4_uM = CH4_nM/1000,
Std_CH4_uM = Std_CH4_nM/1000,
NO3_uM= NO3_nM/1000,
SiO2_uM=SiO2_nM/1000,
PO4_uM=PO4_nM/1000) %>%
select(N2O_nM, N2O_uM,
Std_N2O_nM, Std_N2O_uM,
CH4_nM, CH4_uM,
Std_CH4_nM, Std_CH4_uM, NO3_uM, SiO2_uM, PO4_uM)
View(metadata)
#Exercise 4
library(tidyverse)
warnings()
library(phyloseq)
View(table)
table= metadata
table=metadata %>%
select(Depth_m, O2_uM, PO4_uM, SiO2_uM, NO3_uM, NH4_uM, NO2_uM)
detach("package:tidyverse", unload=TRUE)
TRUE
install.packages("tidyverse")
library("tidyverse", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
#Exercise 4
library(tidyverse)
library(phyloseq)
table=metadata
warning()
warnings()
detach("package:tidyr", unload=TRUE)
library("tidyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
library(tidyr)
library(phyloseq)
#Exercise 4
library(tidyverse)
library("dbplyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
library(dbplyr)
table= metadata
table %>%
gather(Nutrients, concentration, O2_uM)
table= metadat %>%
select(Depth_m, O2_uM, PO4_uM)
table= metadata %>%
select(Depth_m, O2_uM, PO4_uM, SiO2_uM, NO3_uM, NH4_uM, NO2_uM)
table_1= table %.%
gather(Nutrients)
table_1= table %>%
gather(Nutrients)
library(hflights)
table= metadata %>%
select(Depth_m, O2_uM, PO4_uM, SiO2_uM, NO3_uM, NH4_uM, NO2_uM)
library(dplyr)
table= metadata %>%
select(Depth_m, O2_uM, PO4_uM, SiO2_uM, NO3_uM, NH4_uM, NO2_uM)
library(dplyr)
library(tidyr)
detach("package:tidyr", unload=TRUE)
library("tidyr", lib.loc="/Library/Frameworks/R.framework/Versions/3.4/Resources/library")
install.packages("tidyr")
install.packages("tidyr")
library(tidyr)
library(phyloseq)
library(tidyr)
library(tidyverse)
library(dplyr)
table_1= table %>%
gather(Nutrients, Concentration, O2_uM, PO4_uM, SiO2_uM, NO3_uM, NH4_uM, NO2_uM)
ggplot(table_1, aes(x=Depth_m, y=Concentration)) +
geom_point()
ggplot(table_1, aes(x=Depth_m, y=Concentration)) +
geom_point() + geom_line() + facet_wrap(~Nutrients, scales="free_y") +
theme(legend.position = "none")
library(tidyverse)
library(phyloseq)
knitr::opts_chunk$set(echo = TRUE)
ggplot(metadata, aes(x=PO4_uM, y=Depth_m)) +
geom_point(color="purple") + geom_point(shape=17)
load ("phyloseq_object.RData")
